<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>ä¸Ÿå°äººæ¨¡æ“¬å™¨</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: linear-gradient(#eef7ff, #ffffff);
        user-select: none;
        font-family: "Segoe UI", sans-serif;
    }

    #tip {
        position: fixed;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0.7;
        pointer-events: none;
    }

    #person {
        position: absolute;
        width: 140px;
        cursor: grab;
        transition: transform 0.1s;
    }

    #person:active {
        cursor: grabbing;
    }
</style>
</head>
<body>

<div id="tip">ğŸ–±ï¸ æŠ“ä½å°äººæ‹–å‹• â†’ æ”¾é–‹ä¸Ÿå‡ºå»</div>

<!-- ğŸ™‚ å°äºº -->
<svg id="person" viewBox="0 0 160 260">
    <circle cx="80" cy="45" r="35" fill="#ffe6c9"/>
    <circle cx="68" cy="42" r="4" fill="#333"/>
    <circle cx="92" cy="42" r="4" fill="#333"/>
    <path d="M65 58 Q80 68 95 58" stroke="#333" stroke-width="3" fill="none"/>
    <rect x="50" y="85" width="60" height="90" rx="20" fill="#6fa8dc"/>
    <rect x="25" y="95" width="25" height="70" rx="12" fill="#ffe6c9"/>
    <rect x="110" y="95" width="25" height="70" rx="12" fill="#ffe6c9"/>
    <rect x="55" y="175" width="20" height="70" rx="10" fill="#555"/>
    <rect x="85" y="175" width="20" height="70" rx="10" fill="#555"/>
</svg>

<script>
const person = document.getElementById("person");

// ğŸ“ ä½ç½®
let x = window.innerWidth / 2;
let y = window.innerHeight / 2;

// ğŸ§® é€Ÿåº¦
let vx = 0;
let vy = 0;

// ğŸ–±ï¸ æ‹–æ›³ç‹€æ…‹
let dragging = false;
let lastMouseX = 0;
let lastMouseY = 0;

// åˆå§‹ä½ç½®
person.style.left = x + "px";
person.style.top = y + "px";

// =======================
// æ»‘é¼ äº‹ä»¶
// =======================

// æŒ‰ä¸‹ â†’ æŠ“ä½
person.addEventListener("mousedown", e => {
    dragging = true;
    vx = 0;
    vy = 0;
    lastMouseX = e.clientX;
    lastMouseY = e.clientY;
});

// æ‹–å‹•
document.addEventListener("mousemove", e => {
    if (!dragging) return;

    const dx = e.clientX - lastMouseX;
    const dy = e.clientY - lastMouseY;

    x += dx;
    y += dy;

    // è¨˜éŒ„é€Ÿåº¦ï¼ˆæ”¾æ‰‹æ™‚ç”¨ï¼‰
    vx = dx;
    vy = dy;

    lastMouseX = e.clientX;
    lastMouseY = e.clientY;

    person.style.left = x + "px";
    person.style.top = y + "px";
});

// æ”¾é–‹ â†’ ä¸Ÿå‡ºå»
document.addEventListener("mouseup", () => {
    dragging = false;
});

// =======================
// ç‰©ç†æ›´æ–°ï¼ˆä¸å¡ç‰†æ ¸å¿ƒï¼‰
// =======================
function update() {
    const w = person.offsetWidth;
    const h = person.offsetHeight;

    if (!dragging) {
        // ç§»å‹•
        x += vx;
        y += vy;

        // æ‘©æ“¦
        vx *= 0.98;
        vy *= 0.98;

        // â”€â”€â”€ é‚Šç•Œç¢°æ’ï¼ˆé—œéµï¼‰â”€â”€â”€
        if (x < 0) {
            x = 0;
            vx = Math.abs(vx) * 0.8;
        }
        if (x > window.innerWidth - w) {
            x = window.innerWidth - w;
            vx = -Math.abs(vx) * 0.8;
        }
        if (y < 0) {
            y = 0;
            vy = Math.abs(vy) * 0.8;
        }
        if (y > window.innerHeight - h) {
            y = window.innerHeight - h;
            vy = -Math.abs(vy) * 0.8;
        }

        // è¦–è¦ºæ—‹è½‰
        person.style.transform = `rotate(${vx * 2}deg)`;

        person.style.left = x + "px";
        person.style.top = y + "px";
    }

    requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
