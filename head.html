<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>ä¸Ÿå°äººæ¨¡æ“¬å™¨</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: linear-gradient(#eef7ff, #ffffff);
        user-select: none;
        font-family: "Segoe UI", sans-serif;
    }

    #ui {
        position: fixed;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 10px;
        align-items: center;
    }

    button {
        padding: 6px 14px;
        border-radius: 8px;
        border: none;
        background: #4a90e2;
        color: white;
        font-size: 14px;
        cursor: pointer;
    }

    button:hover {
        background: #357abd;
    }

    #tip {
        opacity: 0.7;
        pointer-events: none;
    }

    #person {
        position: absolute;
        width: 140px;
        cursor: grab;
        transition: transform 0.1s;
    }

    #person:active {
        cursor: grabbing;
    }
</style>
</head>
<body>

<div id="ui">
    <div id="tip">ğŸ–±ï¸ æŠ“ä½æ‹– â†’ æ”¾é–‹ä¸Ÿ</div>
    <button id="center">å›åˆ°ä¸­å¤®</button>
    <button id="reset">é‡æ–°é–‹å§‹</button>
</div>

<!-- ğŸ™‚ å°äºº -->
<svg id="person" viewBox="0 0 160 260">
    <circle cx="80" cy="45" r="35" fill="#ffe6c9"/>
    <circle cx="68" cy="42" r="4" fill="#333"/>
    <circle cx="92" cy="42" r="4" fill="#333"/>
    <path d="M65 58 Q80 68 95 58" stroke="#333" stroke-width="3" fill="none"/>
    <rect x="50" y="85" width="60" height="90" rx="20" fill="#6fa8dc"/>
    <rect x="25" y="95" width="25" height="70" rx="12" fill="#ffe6c9"/>
    <rect x="110" y="95" width="25" height="70" rx="12" fill="#ffe6c9"/>
    <rect x="55" y="175" width="20" height="70" rx="10" fill="#555"/>
    <rect x="85" y="175" width="20" height="70" rx="10" fill="#555"/>
</svg>

<script>
const person = document.getElementById("person");
const resetBtn = document.getElementById("reset");
const centerBtn = document.getElementById("center");

// ä½ç½®èˆ‡é€Ÿåº¦
let x, y;
let vx = 0, vy = 0;

// æ‹–æ›³
let dragging = false;
let lastMouseX = 0;
let lastMouseY = 0;

// =======================
// å…±ç”¨ï¼šç§»åˆ°ä¸­å¤®
// =======================
function moveToCenter() {
    x = window.innerWidth / 2 - person.offsetWidth / 2;
    y = window.innerHeight / 2 - person.offsetHeight / 2;
    vx = 0;
    vy = 0;
    dragging = false;
    person.style.left = x + "px";
    person.style.top = y + "px";
    person.style.transform = "none";
}

// ğŸ”„ é‡æ–°é–‹å§‹ï¼ˆç›®å‰ç­‰åŒæ–¼å›ä¸­å¤®ï¼‹æ¸…ç©ºï¼‰
function resetPerson() {
    moveToCenter();
}

centerBtn.addEventListener("click", moveToCenter);
resetBtn.addEventListener("click", resetPerson);

// åˆå§‹
moveToCenter();

// =======================
// æ»‘é¼ äº‹ä»¶
// =======================
person.addEventListener("mousedown", e => {
    dragging = true;
    vx = 0;
    vy = 0;
    lastMouseX = e.clientX;
    lastMouseY = e.clientY;
});

document.addEventListener("mousemove", e => {
    if (!dragging) return;

    const dx = e.clientX - lastMouseX;
    const dy = e.clientY - lastMouseY;

    x += dx;
    y += dy;

    vx = dx;
    vy = dy;

    lastMouseX = e.clientX;
    lastMouseY = e.clientY;

    person.style.left = x + "px";
    person.style.top = y + "px";
});

document.addEventListener("mouseup", () => {
    dragging = false;
});

// =======================
// ç‰©ç†æ›´æ–°
// =======================
function update() {
    const w = person.offsetWidth;
    const h = person.offsetHeight;

    if (!dragging) {
        x += vx;
        y += vy;

        vx *= 0.98;
        vy *= 0.98;

        // é‚Šç•Œåå½ˆ
        if (x < 0) {
            x = 0;
            vx = Math.abs(vx) * 0.8;
        }
        if (x > window.innerWidth - w) {
            x = window.innerWidth - w;
            vx = -Math.abs(vx) * 0.8;
        }
        if (y < 0) {
            y = 0;
            vy = Math.abs(vy) * 0.8;
        }
        if (y > window.innerHeight - h) {
            y = window.innerHeight - h;
            vy = -Math.abs(vy) * 0.8;
        }

        person.style.transform = `rotate(${vx * 2}deg)`;
        person.style.left = x + "px";
        person.style.top = y + "px";
    }

    requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
